# TechTree Nexus: Kakao PlayMCP Edition

> **Target**: Kakao MCP Player 10 Contest <br/>
> **Concept**: PlayMCP ì±„íŒ…ì°½ì—ì„œ ë§Œë‚˜ëŠ” **"ë‚´ ì†ì•ˆì˜ AI ê¸°ìˆ  ë©´ì ‘ê´€"** (Logic-Only Version)

## 1. ì•„í‚¤í…ì²˜ (ì–´ë–»ê²Œ ì—°ê²°ë˜ëŠ”ê°€?)

ë³¸ MCP ì„œë²„ëŠ” **Stateless & Logic-Only** ì•„í‚¤í…ì²˜ë¥¼ ì§€í–¥í•©ë‹ˆë‹¤.
ë³µì¡í•œ DB ì—°ê²°ì´ë‚˜ ìƒíƒœ ê´€ë¦¬ëŠ” ìµœì†Œí™”í•˜ê³ , **ìˆœìˆ˜ AI ëª¨ë¸ì˜ ëŠ¥ë ¥(ìƒì„±, íŒë‹¨, ë¶„ì„)** ì„ í•¨ìˆ˜ í˜•íƒœë¡œ ì œê³µí•˜ì—¬ PlayMCP í´ë¼ì´ì–¸íŠ¸ê°€ ì´ë¥¼ ì¡°ë¦½í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

```mermaid
sequenceDiagram
    participant User as ì‚¬ìš©ì (Web)
    participant PlayMCP as ğŸŸ¡ PlayMCP (Client)
    participant Main as ğŸ¤– Main Agent (Orchestrator)
    participant QA as ğŸ¦ QAMaker
    participant Eval as âš–ï¸ Evaluator (Judge)
    participant Inter as ğŸ™ï¸ Interviewer (Persona)

    Note over User, Inter: 1. ì§„ë‹¨ ì‹œì‘
    PlayMCP->>Main: generate_questions(topic, level)
    Main->>QA: ë¬¸ì œ ìƒì„± ìš”ì²­
    QA-->>Main: JSON ë¬¸ì œ ë¦¬ìŠ¤íŠ¸
    Main-->>PlayMCP: ê²°ê³¼ ë°˜í™˜

    Note over User, Inter: 2. ë‹µë³€ í‰ê°€ (ë°˜ë³µ)
    loop ì¸í„°ë·° ì§„í–‰ (Q&A Loop)
        User->>PlayMCP: ë‹µë³€ ì œì¶œ
        PlayMCP->>Main: evaluate_answer(Q, A)
        Main->>Eval: ì±„ì  ìš”ì²­ (Score)
        Eval-->>Main: ì ìˆ˜ & íŒ©íŠ¸ì²´í¬ (60ì , ...)
        Main->>Inter: í”¼ë“œë°±/ê¼¬ë¦¬ì§ˆë¬¸ ë©˜íŠ¸ ìƒì„± ìš”ì²­
        Inter-->>Main: "ì•„ì‰½ë„¤ìš”... (ì§ˆë¬¸)"
        Main-->>PlayMCP: ìµœì¢… ê²°ê³¼ (Score + Message)
        PlayMCP->>User: ê²°ê³¼ ì¶œë ¥
    end

    Note over User, Inter: 3. ê²°ê³¼ ë¦¬í¬íŠ¸
    PlayMCP->>Main: summarize_result(History)
    Main->>Eval: ë¶„ì„ ìš”ì²­
    Eval-->>Main: ê°•ì•½ì  ë°ì´í„°
    Main->>Inter: ë¦¬í¬íŠ¸ í¬ë§·íŒ… (í†¤ì•¤ë§¤ë„ˆ)
    Inter-->>Main: ìµœì¢… ë¦¬í¬íŠ¸ í…ìŠ¤íŠ¸
    Main-->>PlayMCP: ë°˜í™˜
```

---

## 2. PlayMCP ì—°ë™ í•„ìˆ˜ ì¡°ê±´

1.  **í†µì‹  ë°©ì‹**: `SSE (Server-Sent Events)` over HTTP
    *   ë¡œì»¬ ì „ìš©(`stdio`)ì´ ì•„ë‹Œ **ì›¹ ì„œë²„ ëª¨ë“œ**ë¡œ ë„ì›Œì•¼ í•¨.
2.  **ì—”ë“œí¬ì¸íŠ¸**:
    *   `http://{MY_PUBLIC_IP}:8000/sse` (MCP ì ‘ì† ì£¼ì†Œ)
    *   `http://{MY_PUBLIC_IP}:8000/messages` (ë©”ì‹œì§€ ì²˜ë¦¬)
3.  **ë°°í¬ í™˜ê²½**:
    *   **AWS EC2** (t2.micro ë“±) ì‚¬ìš©.
    *   **DB ë¶ˆí•„ìš”**: ë‚´ë¶€ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê±°ë‚˜, ë©”ëª¨ë¦¬ ë‚´ ì„ì‹œ ì €ì¥ë§Œ ìˆ˜í–‰.

---

## 3. í•µì‹¬ ë„êµ¬ (MCP Tools - Pure Logic)

ì´ ì„œë²„ëŠ” ë°ì´í„°ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. **`Main Agent`** ê°€ **PD(Producer)** ë¡œì„œ ì „ì²´ íë¦„ì„ ì¡°ìœ¨í•˜ê³ , ê° ì „ë¬¸ ì—ì´ì „íŠ¸ì—ê²Œ ì‘ì—…ì„ ì§€ì‹œí•˜ì—¬ ìµœì¢… ê²°ê³¼ë¬¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

### ğŸŸ¡ Agent ì—­í•  ì •ì˜ (R&R)
1.  **Main Agent (PD)**: ì‚¬ìš©ì ìš”ì²­ì„ ìˆ˜ì‹ , í•˜ìœ„ ì—ì´ì „íŠ¸(`Interviewer`, `Evaluator`, `QAMaker`) í˜¸ì¶œ ë° ê²°ê³¼ ì¡°ë¦½, ìµœì¢… ì‘ë‹µ ë°˜í™˜.
2.  **Interviewer Agent (MC/Writer)**: ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•  **ëŒ€í™” í…ìŠ¤íŠ¸(ë©˜íŠ¸)** ì‘ì„±, í˜ë¥´ì†Œë‚˜(ì¹œì ˆí•¨/ëƒ‰ì² í•¨) ìœ ì§€, ê¼¬ë¦¬ ì§ˆë¬¸ ìƒì„±.
3.  **Evaluator Agent (Judge)**: ë‹µë³€ì˜ ê¸°ìˆ ì  ì •í™•ì„± ì±„ì , í•©ë¶ˆ ì—¬ë¶€ íŒë‹¨ (ê°ì • ì—†ëŠ” íŒ©íŠ¸ ì²´í¬).
4.  **QAMaker Agent (Bank)**: ì£¼ì œë³„ ë¬¸ì œ ì¶œì œ (JSON ë°ì´í„° ìƒì„±).

---

### ğŸŸ¡ ë„êµ¬ ìƒì„¸ ë¡œì§

#### ğŸ”µ 1. ë©´ì ‘ ì‹œì‘ ë° ì£¼ì œ ì¶”ì²œ (`start_interview`)
*   **Flow**: `Main` -> `Interviewer` (ì˜ë„ íŒŒì•… ë° ì»¤ë¦¬í˜ëŸ¼ ì¡°íšŒ) -> `Main` (ì¶”ì²œ ë©˜íŠ¸ ë°˜í™˜)
*   **ì„¤ëª…**: ì‚¬ìš©ìì˜ ì²« ì¸ì‚¬ë‚˜ ëª¨í˜¸í•œ ìš”ì²­(ì˜ˆ: "ë©´ì ‘ ë³¼ë˜")ì„ ë¶„ì„í•˜ì—¬ ì í•©í•œ ë©´ì ‘ ì£¼ì œ(Track/Tier)ë¥¼ ì œì•ˆí•©ë‹ˆë‹¤.
*   **ì…ë ¥**: `user_input` (String)
*   **ì¶œë ¥**: ì¶”ì²œ ë©˜íŠ¸ w/ ì»¤ë¦¬í˜ëŸ¼ ìš”ì•½ (String)

#### ğŸ”µ 2. ë¬¸ì œ ìƒì„± (`generate_questions`)
*   **Flow**: `Main` -> `QAMaker` (ë¬¸ì œ ìƒì„±) -> `Main` (ë°˜í™˜)
*   **ì„¤ëª…**: íŠ¹ì • ì£¼ì œì™€ ë‚œì´ë„ì— ë§ëŠ” ë©´ì ‘ ì§ˆë¬¸ì„ ì¦‰ì„ì—ì„œ ìƒì„±í•©ë‹ˆë‹¤.
*   **ì…ë ¥**: `topic`, `level`, `count`
*   **ì¶œë ¥**: ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ (JSON)

#### ğŸ”µ 3. ë‹µë³€ í‰ê°€ ë° í”¼ë“œë°± (`evaluate_answer`)
*   **Flow**: 
    1. `Main` -> `Evaluator`: ë‹µë³€ ì±„ì  ìš”ì²­ (Score, Pass/Fail, Missing Points ë°˜í™˜)
    2. `Main` -> `Interviewer`: ì±„ì  ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ **í”¼ë“œë°± ë©˜íŠ¸ ë° ê¼¬ë¦¬ ì§ˆë¬¸** ì‘ì„± ìš”ì²­ (Persona ë°˜ì˜)
    3. `Main`: ìµœì¢… ê²°ê³¼ ì¡°ë¦½ (`score` + `message` + `next_action`) í›„ ë°˜í™˜
*   **ì„¤ëª…**: ì‚¬ìš©ìì˜ ë‹µë³€ì„ í‰ê°€í•˜ê³ , ë©´ì ‘ê´€ì˜ í˜ë¥´ì†Œë‚˜ë¥¼ ë‹´ì€ ìì—°ìŠ¤ëŸ¬ìš´ í”¼ë“œë°±ì„ ì œê³µí•©ë‹ˆë‹¤.
*   **ì…ë ¥**: `question`, `user_answer`, `level`
*   **ì¶œë ¥**: 
    *   `score`: ì ìˆ˜ (0~100)
    *   `is_pass`: í†µê³¼ ì—¬ë¶€
    *   `feedback_message`: ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ ë©´ì ‘ê´€ì˜ ë§ (String)
    *   `next_action`: `PASS` (ë‹¤ìŒ ë¬¸ì œ) or `DEEP_DIVE` (ê¼¬ë¦¬ ì§ˆë¬¸)

#### ğŸ”µ 4. ì¢…í•© ë¦¬í¬íŠ¸ (`summarize_result`)
*   **Flow**: `Main` -> `Evaluator` (ë¶„ì„) -> `Interviewer` (ë¦¬í¬íŠ¸ í†¤ì•¤ë§¤ë„ˆ ì •ì œ) -> `Main`
*   **ì„¤ëª…**: ì „ì²´ ì¸í„°ë·° ê¸°ë¡ì„ ë¶„ì„í•˜ì—¬ ê°•ì /ì•½ì  ë° í–¥í›„ í•™ìŠµ ê°€ì´ë“œë¥¼ í¬í•¨í•œ ë¦¬í¬íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
*   **ì…ë ¥**: `conversation_history`
*   **ì¶œë ¥**: ì¢…í•© ë¦¬í¬íŠ¸ (Markdown)

---

## 4. ìµœì¢… ëª©í‘œ (ì‹œë‚˜ë¦¬ì˜¤)

> **ì‹¬ì‚¬ìœ„ì›**: "ë‚˜ AI ê°œë°œì ì‹¤ë ¥ í…ŒìŠ¤íŠ¸ í•´ë³¼ë˜."
>
> **PlayMCP (Client)**: *(ë‚´ë¶€ì ìœ¼ë¡œ `generate_questions` í˜¸ì¶œ)*
> **TechTree(MCP)**: *("AI", "Lv.2" ì…ë ¥ë°›ì•„ ì§ˆë¬¸ ìƒì„± í›„ ë°˜í™˜)*
>
> **PlayMCP**: "ì²« ë²ˆì§¸ ì§ˆë¬¸ì…ë‹ˆë‹¤. **Overfitting(ê³¼ì í•©)ì´ ë°œìƒí–ˆì„ ë•Œ...**"
>
> **ì‹¬ì‚¬ìœ„ì›**: "ë°ì´í„° ì¶”ê°€, Dropout ì‚¬ìš©..."
>
> **PlayMCP**: *(ë‚´ë¶€ì ìœ¼ë¡œ `evaluate_answer` í˜¸ì¶œ)*
> **TechTree(MCP)**: *("ì •í™•í•©ë‹ˆë‹¤. ì ìˆ˜ 90ì ..." ë°˜í™˜)*
>
> ... (ë°˜ë³µ) ...
>
> **PlayMCP**: *(ëª¨ë“  ë¡œê·¸ë¥¼ ëª¨ì•„ì„œ `summarize_result` í˜¸ì¶œ)*
> **TechTree(MCP)**: *("Lv.3 ì‹¤ì „í˜• ì—”ì§€ë‹ˆì–´..." ë¦¬í¬íŠ¸ ì‘ì„±)*
> **PlayMCP**: "ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤! ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤..."

---

## 5. ê°œë°œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] `FastAPI` + `LangChain` ê¸°ë°˜ì˜ Logic Server êµ¬ì¶•.
- [ ] **No DB**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì½”ë“œ ì œê±° (Stateless).
- [ ] AWS EC2 ë°°í¬ ë° Public IP ì„¤ì •.
- [ ] ê° Tool(`generate`, `evaluate` ë“±)ì— ëŒ€í•œ í”„ë¡¬í”„íŠ¸ ìµœì í™”.
